### W05-D1 Additional features for the ABC player

Consider the music box specification presented for CCW#2, and assume that you want to extend its functionality in order to support tune loading via RS232 and a local “Play” button as illustrated below. 

<img src="/Resources/images/w4d1.png" alt="drawing" width="600"/>

----

#### 1. What changes would be required to the original datapath in order to:

  1.1 **Enable up to 8 tunes stored in RAM, and tune selection using 3 switches.**

  1.2 **Enable a loop mode that keeps playing the selected tune (press `Play` once to start, press again to stop).**

- ***Answer***

Assuming the 8 tunes already are stored (hardcoded) in RAM.

`sw[2:0]` enables us to select which of the 8 tunes in the RAM we want to play.

E.g. `"000"` = Song 1, `"110"` = Song 7, `"111"` = Song 8.

Note 1 of song 1 will be located in `RAM_ADDR = x"00"`, note 2 in `RAM_ADDR = x"01"` and so on.

How many notes should each melody contain? E.g. 10 notes.

| sw[0] | sw[1] | sw[2] | RAM_ADDR     |
| :---: | :---: | :---: | :----------: |
| 0     | 0     | 0     | `x"00..09"`  |
| 0     | 0     | 1     | `x"A0..13"`  |
| 0     | 1     | 0     | `x"14..1D"`  |
| 0     | 1     | 1     | `x"1E..27"`  |
| 1     | 0     | 0     | `x"28..31"`  |
| 1     | 0     | 1     | `x"32..3B"`  |
| 1     | 1     | 0     | `x"3C..45"`  |
| 1     | 1     | 1     | `x"46..4F"`  |
