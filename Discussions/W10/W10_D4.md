W10 Mar 18 (D4) FSMD implementation of a C program
 

N.B.: The source of this question is Patrick R. Schaumont, “A Practical Introduction to Hardware/Software Codesign (Links to an external site.)“, Problems 5.7 and 5.8, pp. 154-155.


FSMD models provide modeling of control (conditional execution) as well as data processing in hardware. Therefore, it is easy to mimic the behavior of a C program and build an FSMD that reflects the same control flow as the C program.

'''C
1       int filter(int a) {
2             static int taps[5];
3             int c[ ] = {-1, 5, 10, 5, -1};
4             int r;
5      
6             for (i=0; i<4; i++)
7                   taps[i] = taps[i+1];
8             taps[4] = a;
9      
10             r = 0;
11             for (i=0; i<5; i++)
12                   r = r + taps[i] * c[i];
13      
14             return r;
15       }
'''
Listing 5.27 Program for Problem 5.7



Problem 5.7: Write an FSMD model for the C function shown in Listing 5.27. Assume that the arguments of the function are the inputs of the FSMD, and that the result of the function is the FSMD output. Develop your model so that you need no more than a single multiplier.


Problem 5.8: Repeat Problem 5.7, but develop your FSMD so that the entire function completes in a single clock cycle.